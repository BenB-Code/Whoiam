@if (projectsWindow$ | async; as projectsWindow) { @if (projectsWindow.status !== CLOSED) {
<app-content-window
  appWindowActions
  title="Projects"
  [class.active]="projectsWindow.isActive"
  [class.maximized]="projectsWindow.status === MAXIMIZED"
  [class.minimized]="projectsWindow.status === MINIMIZED"
  [disableFullscreen]="projectsWindow?.disableFullscreen === true"
  [style.height]="projectsWindow.size?.height"
  [style.left]="projectsWindow.position?.x"
  [style.top]="projectsWindow.position?.y"
  [style.transform]="projectsWindow.position?.transform"
  [style.width]="projectsWindow.size?.width"
  [style.z-index]="projectsWindow.zIndex"
  [windowId]="PROJECTS"
>
  @if (projectsService.isLoading()) {
  <app-spinner />
  } @else if (projectsService.shouldDisplayPlaceholder()) {
  <app-placeholder-text [textContent]="projectsService.placeholder() || ''" />
  } @else {
  <div class="projects-grid">
    @for (project of projectsService.projects(); track $index) {
    <article class="project-card" [attr.data-category]="project.category">
      <div class="card-header">
        <div class="project-meta">
          <span class="project-year">{{ project.year }}</span>
        </div>
        <div
          class="status-indicator"
          [style.background-color]="getStatusColor(project.status || 'active')"
          [title]="project.status || 'active'"
        ></div>
      </div>

      <div class="card-content">
        <h2>{{ project.name }}</h2>
        <p class="description">{{ project.description }}</p>

        @if (project.technologies) {
        <div class="technologies">
          @for (tech of project.technologies; track $index) {
          <span class="tech-badge">{{ tech }}</span>
          }
        </div>
        }
      </div>

      <div class="card-actions">
        <button class="primary-btn" type="button" (click)="navigationService.redirect(project.link.url)">
          {{ project.link.name }}
        </button>
      </div>
    </article>
    }
  </div>
  }
</app-content-window>
} }
